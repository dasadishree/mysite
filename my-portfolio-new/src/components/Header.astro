---
const {title, description} = Astro.props;
import auraImage from "../assets/aura.jpg";
import meImage from "../assets/me.jpg";
import img1 from "../assets/1.webp";
import img2 from "../assets/2.jpg";
import img3 from "../assets/3.png";
import img4 from "../assets/4.JPG";
import img5 from "../assets/5.jpg";
import img6 from "../assets/6.svg";
import img7 from "../assets/7.png";
import img8 from "../assets/8.png";
import img9 from "../assets/9.jpg";
import img10 from "../assets/10.png";
import img11 from "../assets/11.JPEG";
import img12 from "../assets/12.JPEG";
import img13 from "../assets/13.jpg";
import img14 from "../assets/14.jpg";
import img15 from "../assets/15.JPG";
import img16 from "../assets/16.jpg";
import img17 from "../assets/17.PNG";
import img18 from "../assets/18.JPG";
import img19 from "../assets/19.jpg";
import img20 from "../assets/20.JPG";
import img21 from "../assets/21.jpg";
import img22 from "../assets/22.JPG";
import img23 from "../assets/23.jpg";
import img24 from "../assets/24.jpeg";
import img25 from "../assets/25.JPG";
import img26 from "../assets/26.jpg";
---
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&display=swap" rel="stylesheet">
        <title>Adishree Das</title>
    </head>

    <body>
        <!-- loading screen -->
        <div id="loading-screen" class="loading-screen">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <p class="loading-text">Loading</p>
            </div>
        </div>

        <header class="hero" id="main-content" style="display: none;">
            <div class="auraImg">
                <img src={auraImage.src} alt="aura background"/>
            </div>
            <div class="container">
                <div class="meSection">
                    <div class="photo-caption">
                        <span>click on my picture!!</span>
                        <svg class="curved-arrow" width="50" height="50" viewBox="0 0 50 50" fill="none">
                            <path d="m40 10C35 15 25 15 15 35M15 35L12 25M15 35L25 32" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round" />
                        </svg>
                    </div>
                    <img src={meImage.src} alt="an image of me (adishree)!!" class="mePhoto" id="main-photo">

                    //click images
                    <div class="surround-images">
                        <span class="pop-item item-1">
                            <img src={img1.src} alt="Image 1" />
                        </span>
                        <span class="pop-item item-2">
                            <img src={img2.src} alt="Image 2" />
                        </span>
                        <span class="pop-item item-3">
                            <img src={img3.src} alt="Image 3" />
                        </span>
                        <span class="pop-item item-4">
                            <img src={img4.src} alt="Image 4" />
                        </span>
                        <span class="pop-item item-5">
                            <img src={img5.src} alt="Image 5" />
                        </span>
                        <span class="pop-item item-6">
                            <img src={img6.src} alt="Image 6"/>
                        </span>
                        <span class="pop-item item-7 shape-circle size-small">
                            <img src={img7.src} alt="Image 7" />
                        </span>
                        <span class="pop-item item-8 shape-star size-medium">
                            <img src={img8.src} alt="Image 8" />
                        </span>
                        <span class="pop-item item-9 shape-heart size-small">
                            <img src={img9.src} alt="Image 9" />
                        </span>
                        <span class="pop-item item-10 shape-circle size-medium">
                            <img src={img10.src} alt="Image 10" />
                        </span>
                        <span class="pop-item item-11 shape-star size-small">
                            <img src={img11.src} alt="Image 11" />
                        </span>
                        <span class="pop-item item-12 shape-heart size-medium">
                            <img src={img12.src} alt="Image 12" />
                        </span>
                        <span class="pop-item item-13 shape-circle size-small">
                            <img src={img13.src} alt="Image 13" />
                        </span>
                        <span class="pop-item item-14 size-medium">
                            <img src={img14.src} alt="Image 14" />
                        </span>
                        <span class="pop-item item-15 shape-star size-small">
                            <img src={img15.src} alt="Image 15" />
                        </span>
                        <span class="pop-item item-16 shape-heart size-medium">
                            <img src={img16.src} alt="Image 16" />
                        </span>
                        <span class="pop-item item-17 shape-circle size-small">
                            <img src={img17.src} alt="Image 17" />
                        </span>
                        <span class="pop-item item-18 shape-star size-medium">
                            <img src={img18.src} alt="Image 18" />
                        </span>
                        <span class="pop-item item-19 shape-heart size-small">
                            <img src={img19.src} alt="Image 19" />
                        </span>
                        <span class="pop-item item-20 size-medium">
                            <img src={img20.src} alt="Image 20" />
                        </span>
                        <span class="pop-item item-21 shape-circle size-small">
                            <img src={img21.src} alt="Image 21" />
                        </span>
                        <span class="pop-item item-22 shape-star size-medium">
                            <img src={img22.src} alt="Image 22" />
                        </span>
                        <span class="pop-item item-23 shape-heart size-small">
                            <img src={img23.src} alt="Image 23" />
                        </span>
                        <span class="pop-item item-24 shape-circle size-medium">
                            <img src={img24.src} alt="Image 24" />
                        </span>
                        <span class="pop-item item-25 size-small">
                            <img src={img25.src} alt="Image 25" />
                        </span>
                        <span class="pop-item item-26 shape-star size-medium">
                            <img src={img26.src} alt="Image 26" />
                        </span>
                    </div>
                </div>

                <div class="text">
                    <h1>welcome to</h1>
                    <p class="subtitle">adishree's internet corner</p>
                </div>
            </div>
        </header>
    </body>
</html>

<style is:global>
    .hero{
        position: relative;
        height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    } 
    .container{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
    }
    .subtitle{
        font-family: 'Pinyon Script', system-ui;
        font-size: 10vh;
    }
    body{
        margin: 0;
        background-color: #fffaf0;
        overflow-x: hidden;
    }
    
    //loading
    .loading-screen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: #fffaf0;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        transition: opacity 0.5s ease-out;
    }
    .loading-screen.hidden {
        opacity: 0;
        pointer-events: none;
    }
    .loading-content {
        text-align: center;
    }
    .loading-spinner {
        width: 50px;
        height: 50px;
        border: 4px solid #ffb6c1;
        border-top: 4px solid #ff69b4;
        border-radius: 50%;
        animation: spin 1s linear infinite;
        margin: 0 auto 20px;
    }
    @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }   
    .loading-text {
        font-family: 'Pinyon Script', cursive;
        font-size: 2rem;
        color: #ff69b4;
        margin: 0;
    }

    //center photo and text
    .auraImg{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        height: 100%;
        max-height: 100vh;
        z-index: -1;
        opacity: 0.6;
        filter: blur(20px);
        animation: pulse 8s infinite alternate;  
        img{
            height:100%;
            width:auto;
        } 
    }
    .meSection{
        display:flex;
        flex-direction:column;
        align-items:center;
        gap:1rem;
        margin: 0;
    }
    .mePhoto{
        width: 250px;
        height:250px;
        object-fit: cover;
        border-radius: 30px;
        border: 15px dashed pink;
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        transform: rotate(-2deg);
        transition: transform 0.3s ease;
        cursor: pointer;
    }
    .mePhoto:hover{
        transform:rotate(0deg) scale(1.05);
    }
    .text{
        text-align: center;
        margin-top: 0;
        position: relative;
        z-index: 20;
    }
    h1{
        font-size: 3rem;
        margin: 0;
        color: purple;
    }
    .subtitle{
        font-family: 'Pinyon Script', cursive;
        font-size: clamp(3rem, 10vh, 6rem);
        margin: -15px 0 0 0;
        color: pink;
    }
    @keyframes pulse{
        from {transform: translate(-50%, -50%) scale(1.1); opacity:0.5; }
        to {transform: translate(-50%, -50%) scale(1.1); opacity: 0.8; }
    }
    .photo-caption{
        position: absolute;
        right: 13vw;
        top: -6vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 120px;
        color: white;
        font-size: 1.1rem;
        line-height: 1.2;
        transform: rotate(5deg);
        pointer-events: none;
    }
    .curved-arrow{
        margin-bottom: 5px;
        color: purple;
    }
    .meSection{
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        margin: 0;
    }

//style surrounding images
    .surround-images{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 0;
        height: 0;
        pointer-events: none;
    }  
    .pop-item{
        position: absolute;
        opacity: 0;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        pointer-events: none;
        z-index: -1;
        top: 0;
        left: 0;
        transform: translate(-50%, -50%) scale(0);
        filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
    }
    .pop-item img{
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
    }  
    .pop-item.item-1 img,
    .pop-item.item-2 img,
    .pop-item.item-3 img,
    .pop-item.item-4 img,
    .pop-item.item-5 img,
    .pop-item.item-6 img {
        width: 250px;
        height: 250px;
        object-fit: contain;
    } 
    .pop-item.size-medium img {
        width: 180px;
        height: 180px;
    }  
    .pop-item.size-small img {
        width: 130px;
        height: 130px;
    }  
    .pop-item.shape-circle img {
        clip-path: circle(50%);
        border-radius: 50%;
    }
    .pop-item.shape-heart img {
        clip-path: polygon(50% 0%, 0% 38%, 12% 50%, 0% 62%, 25% 100%, 50% 75%, 75% 100%, 100% 62%, 88% 50%, 100% 38%);
    }  
    .pop-item.shape-star img {
        clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
    }
    .is-popped .pop-item{
        opacity: 1;
        z-index: 10;
        transform: translate(-50%, -50%) scale(1);
    }

    // position each item
    .is-popped .item-1 { 
        transform: translate(calc(-50% - 40vw), calc(-50% - 20vh)) rotate(-20deg) scale(1); 
        transition-delay: 0.2s;
    }
    .is-popped .item-2 { 
        transform: translate(calc(-50% + 40vw), calc(-50% - 20vh)) rotate(20deg) scale(1); 
        transition-delay: 0.39s;
    }
    .is-popped .item-3 { 
        transform: translate(calc(-50% - 40vw), calc(-50% - 5vh)) rotate(20deg) scale(1); 
        transition-delay: 0.58s;
    }
    .is-popped .item-4 { 
        transform: translate(calc(-50% + 40vw), calc(-50% - 5vh)) rotate(-20deg) scale(1); 
        transition-delay: 0.77s;
    }
    .is-popped .item-5 { 
        transform: translate(calc(-50% - 30vw), calc(-50% - 30vh)) rotate(-10deg) scale(1); 
        transition-delay: 0.96s;
    }
    .is-popped .item-6 {
        transform: translate(calc(-50% + 30vw), calc(-50% - 30vh)) rotate(-10deg) scale(1);
        transition-delay: 1.15s;
    }
    .is-popped .item-7 {
        transform: translate(calc(-50% - 50vw), calc(-50% - 12vh)) rotate(15deg) scale(1);
        transition-delay: 1.34s;
    }
    .is-popped .item-8 {
        transform: translate(calc(-50% + 50vw), calc(-50% - 12vh)) rotate(-15deg) scale(1);
        transition-delay: 1.53s;
    }
    .is-popped .item-9 {
        transform: translate(calc(-50% - 55vw), calc(-50% - 2vh)) rotate(25deg) scale(1);
        transition-delay: 1.72s;
    }
    .is-popped .item-10 {
        transform: translate(calc(-50% + 55vw), calc(-50% - 2vh)) rotate(-25deg) scale(1);
        transition-delay: 1.91s;
    }
    .is-popped .item-11 {
        transform: translate(calc(-50% - 20vw), calc(-50% - 35vh)) rotate(10deg) scale(1);
        transition-delay: 2.1s;
    }
    .is-popped .item-12 {
        transform: translate(calc(-50% + 20vw), calc(-50% - 35vh)) rotate(-10deg) scale(1);
        transition-delay: 2.29s;
    }
    .is-popped .item-13 {
        transform: translate(calc(-50% - 20vw), calc(-50% - 8vh)) rotate(10deg) scale(1);
        transition-delay: 2.48s;
    }
    .is-popped .item-14 {
        transform: translate(calc(-50% + 20vw), calc(-50% - 8vh)) rotate(-10deg) scale(1);
        transition-delay: 2.67s;
    }
    .is-popped .item-15 {
        transform: translate(calc(-50% - 60vw), calc(-50% - 22vh)) rotate(30deg) scale(1);
        transition-delay: 2.86s;
    }
    .is-popped .item-16 {
        transform: translate(calc(-50% + 60vw), calc(-50% - 22vh)) rotate(-30deg) scale(1);
        transition-delay: 3.05s;
    }
    .is-popped .item-17 {
        transform: translate(calc(-50% - 60vw), calc(-50% - 5vh)) rotate(30deg) scale(1);
        transition-delay: 3.24s;
    }
    .is-popped .item-18 {
        transform: translate(calc(-50% + 60vw), calc(-50% - 5vh)) rotate(-30deg) scale(1);
        transition-delay: 3.43s;
    }
    .is-popped .item-19 {
        transform: translate(calc(-50% - 12vw), calc(-50% - 40vh)) rotate(5deg) scale(1);
        transition-delay: 3.62s;
    }
    .is-popped .item-20 {
        transform: translate(calc(-50% + 12vw), calc(-50% - 40vh)) rotate(-5deg) scale(1);
        transition-delay: 3.81s;
    }
    .is-popped .item-21 {
        transform: translate(calc(-50% - 12vw), calc(-50% - 12vh)) rotate(5deg) scale(1);
        transition-delay: 4s;
    }
    .is-popped .item-22 {
        transform: translate(calc(-50% + 12vw), calc(-50% - 12vh)) rotate(-5deg) scale(1);
        transition-delay: 4.19s;
    }
    .is-popped .item-23 {
        transform: translate(calc(-50% - 65vw), calc(-50% - 15vh)) rotate(35deg) scale(1);
        transition-delay: 4.38s;
    }
    .is-popped .item-24 {
        transform: translate(calc(-50% + 65vw), calc(-50% - 15vh)) rotate(-35deg) scale(1);
        transition-delay: 4.57s;
    }
    .is-popped .item-25 {
        transform: translate(calc(-50% - 65vw), calc(-50% - 0vh)) rotate(35deg) scale(1);
        transition-delay: 4.76s;
    }
    .is-popped .item-26 {
        transform: translate(calc(-50% + 65vw), calc(-50% - 0vh)) rotate(-35deg) scale(1);
        transition-delay: 4.95s;
    }
    .is-popped .mePhoto {
        transform: rotate(0deg) scale(1.1);
        border-color: #ff85a1;
    }

    //responsive 
    @media(max-width: 768px) {
        .photo-caption{
            position: static;
            width: auto;
            right: 0;
            transform: rotate(0deg);
            margin-top:10px;
        }
        .curved-arrow{
            display: none;
        }
        .pop-item.item-1 img,
        .pop-item.item-2 img,
        .pop-item.item-3 img,
        .pop-item.item-4 img,
        .pop-item.item-5 img,
        .pop-item.item-6 img {
            width: 180px;
            height: 180px;
        }  
        .pop-item.size-medium img {
            width: 130px;
            height: 130px;
        } 
        .pop-item.size-small img {
            width: 95px;
            height: 95px;
        }
        .is-popped .item-1 { 
            transform: translate(calc(-50% - 35vw), calc(-50% - 18vh)) rotate(-20deg) scale(1); 
        }
        .is-popped .item-2 { 
            transform: translate(calc(-50% + 35vw), calc(-50% - 18vh)) rotate(20deg) scale(1); 
        }
        .is-popped .item-3 { 
            transform: translate(calc(-50% - 35vw), calc(-50% - 4vh)) rotate(20deg) scale(1); 
        }
        .is-popped .item-4 { 
            transform: translate(calc(-50% + 35vw), calc(-50% - 4vh)) rotate(-20deg) scale(1); 
        }
        .is-popped .item-5 { 
            transform: translate(calc(-50% - 25vw), calc(-50% - 28vh)) rotate(-10deg) scale(1); 
        }
        .is-popped .item-6 {
            transform: translate(calc(-50% + 25vw), calc(-50% - 28vh)) rotate(-10deg) scale(1);
        }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const loadingScreen = document.getElementById('loading-screen');
        const mainContent = document.getElementById('main-content');
        const photo = document.getElementById('main-photo');
        const section = document.querySelector('.meSection');

        // loading images to prevent photo lag
        const imageSources = [];
        for (let i = 1; i <= 26; i++) {
            const img = document.querySelector(`.item-${i} img`);
            if (img && img.src) {
                imageSources.push(img.src);
            }
        }
        const mainImages = [
            document.querySelector('.auraImg img')?.src,
            document.querySelector('.mePhoto')?.src,
        ].filter(Boolean);
        const allImages = [...imageSources, ...mainImages];
        let loadedCount = 0;
        const totalImages = allImages.length;  
        if (totalImages === 0) {
            showContent();
            return;
        }
        // load page once images are loaded
        function showContent() {
            loadingScreen.classList.add('hidden');
            mainContent.style.display = 'block';
            setTimeout(() => {
                loadingScreen.style.display = 'block';
            }, 500);
        }
        allImages.forEach(src => {
            const img = new Image();
            img.onload = () => {
                loadedCount++;
                if (loadedCount === totalImages) {
                    setTimeout(showContent, 300);
                }
            };
            img.onerror = () => {
                loadedCount++;
                if (loadedCount === totalImages) {
                    setTimeout(showContent, 300);
                }
            };
            img.src = src;
        });

        // images pop out when center photo clipped
        if (photo && section) {
            photo.addEventListener('click', () => {
                section.classList.toggle('is-popped');
            });
        }
    });
</script>